<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Ruby blog</title>
    <script type="text/javascript">
        function Blog(body, date) {
            this.body= body;
            this.date= date;
            Blog.prototype.signature="Dsdfsdf";
        }

        var blog = [new Blog("first link", new Date("12/01/2014")),
            new Blog("Second link", new Date("3/02/2014")),
            new Blog("thi is text about pink", new Date("3/14/2014")),
            new Blog("What are you know", new Date("3/07/2014")),
            new Blog("lame is king of the next year", new Date("3/15/2014")),
            new Blog("he-he-he", new Date("5/05/2014")) ];
        var mass = [parseInt(123), parseInt(12), parseInt(3), parseInt(123123), parseInt(1), parseInt(3), parseInt(3131)];
        //показать список записей
        function sortArrayDate(x,y) {
            if (x.date > y.date) return 1;
            if (x.date < y.date) return -1;
            if (x.date== y.date) return 0;
        }
        function showBlog(numEntries) {

            if (!numEntries)
                numEntries = blog.length;

            //показать записи
            blog.sort(sortArrayDate);
            var i = 0, blogText="";
            while (i < blog.length && i < numEntries) {
                if (i % 2 == 0)
                    blogText += "<p style='background-color:#EEEEEE'>";
                else
                    blogText += "<p>";

                blogText += "<strong>" + blog[i].date.getDate() +"/" + (blog[i].date.getMonth()+1) + "/"+blog[i].date.getFullYear()+ "</strong><br />" + blog[i].body +"<br/><em>"+this.signature + "</p>";


                i+=1;
            }
            document.getElementById("blog").innerHTML = blogText;


        }
        function SearchButton() {
            var searchWord=document.getElementById("searchText").value;
            var i;
            for (i=0; i<blog.length; i++) {
                //alert(blog[i].body+" "+blog.length);
                if (blog[i].body.toLowerCase().indexOf(searchWord.toLowerCase()) != -1)
                    document.getElementById("massiv").innerHTML+="<p>"+blog[i].body+"</p>";
                //if (blog[i].body.toLowerCase.indexOf(searchWord.toLowerCase() != "-1"))
                    //
            }

        }
        function randomNum() {
            document.getElementById("massiv").innerHTML=blog[Math.floor(Math.random()*blog.length)].body;
        }

    </script>
</head>
<body onload="showBlog(3);">
<h3>YouCube - Блог посвященный Кубику-Рубику</h3>
<input type="text" id="searchText" size="50" maxlength="50"/>
<input type="button" value="Поиск" onclick="SearchButton()"/><br>
<input type="button" id="random" onclick="randomNum();" value="Случайная запись"/><br/>
<img src="images/cube.jpg" alt="YouCube" />
<div id="blog"></div>
<input type="button" id="showall" value="Показать все записи" onclick="showBlog();" />
<div id="massiv"></div>
</body>
</html>