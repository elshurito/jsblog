<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>example1</title>
    <script>
        var testText="КубКубКубкуб";
        var searchword="Куб";

        function centered() {
            var buttonwidth = document.getElementById("Search").clientWidth;
            var html = document.documentElement.clientWidth;
            var buttonmargin = html/2 - buttonwidth/2;
            document.getElementById("Search").style.marginLeft=buttonmargin+"px";

        }
        function load() {
            document.getElementById("testText").innerHTML=testText;
            document.getElementById("searchWord").innerHTML=searchword;
        }
        function searchText() {
            var i=0;
            var result="";
            var searchIndex=0;
            while ((i <= (testText.length-searchword.length)) && (searchIndex != -1)) {

                searchIndex = testText.toLowerCase().indexOf(searchword.toLowerCase(), i);
                i=searchIndex;
                if (i>-1)
                    result+=" "+i+";";
                else break;
                i+=1;
                //alert("i= "+i+"; testText= "+testText.length+"; searchword= "+searchword.length + "; searchIndex= "+searchIndex);
                document.getElementById("result").innerHTML=result;
            }



        }
    </script>
</head>
<body onresize="centered();" onload="centered();load();">
    <button id="Search"  onclick="searchText();" style="width: 200px">Поиск</button>
    <p id="testText"></p>
    <p id="searchWord"></p>
    <p id="result"></p>
</body>
</html>